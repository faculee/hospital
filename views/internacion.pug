extends layout

block extraHead
  style.
    #formInternacion {
      background-color: rgb(131, 184, 209);
      border-radius: 10px;
      padding: 1.5rem;
    }
    #datosInternacion .card {
      background-color: rgb(131, 184, 209);
      border-left: 6px solid #007bff;
    }
    #datosInternacion p {
      margin-bottom: 0.4rem;
      font-size: 0.95rem;
    }
    #datosInternacion .card-title {
      color: #007bff;
    }
    #seccionInternacion {
      background-color: rgb(131, 184, 209);
      padding: 1.5rem;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
    }
    #seccionCamasAsignadas .card {
      background-color: #ffffff; 
      padding: 1.5rem;
      border-radius: 0.5rem;
      border: none; 
      box-shadow: none; 
    }

    .table th {
      background-color: rgb(41, 108, 175);
      color: #f8f9fa;
      font-weight: bold;
      border: 1px solid rgb(41, 108, 175);
      text-align: center;
    }

    .table tbody td {
      border: 1px solid #dee2e6;
    }

    #seccionCamasAsignadas td:nth-child(3),
    #seccionCamasAsignadas td:nth-child(4) {
      text-align: center;
    }
    .section + .section {
      margin-top: 2rem;
    }
    .boton-accion {
      min-width: 220px;
      padding: 0.5rem 1.5rem;
      font-weight: 500;
      color: white;
      transition: all 0.2s ease;
      border-radius: 8px;
    }

    .boton-accion:hover {
      background-color: white;
      transform: scale(1.03);
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

  script(src="https://cdn.jsdelivr.net/npm/sweetalert2@11")
  script(type="module", src="/js/internacion.js")

block content
  .card.shadow
    .card-body
      h2.text-center.h5.mb-4 Admisión de Pacientes para Internación

      // Sección Datos del Paciente
      .row.mb-3
        .col-md-8
          input.form-control#documento.text-center.fw-bold.fs-5(
            type="text", 
            placeholder="Ingrese aquí el n° de documento", 
            required, 
            autocomplete="off"
          )
        .col-md-4
          button.btn.btn-primary.w-100(
            type="button", 
            id="btnBuscarPaciente"
          ) Buscar Paciente

      #mensajePaciente.text-danger.mt-2.text-center

      #datosPaciente

      // Sección Datos de Internación (oculta por defecto)
      .section.mt-4#seccionInternacion(style="display: none;")
        h5.text-center.mb-4 Datos de Admisión

        form#formInternacion
          .row.mb-3
            .col-md-6
              label.form-label(for="origen") Origen:
              select#idorigen.form-select(name="idorigen", required)
                option(value="") Seleccione un origen...
            .col-md-6
              label.form-label(for="medico") Médico:
              select#idmedico.form-select(name="idmedico", required)
                option(value="") Seleccione un médico...

          .row.mb-3
            .col-md-12
              label.form-label(for="diagnostico") Diagnóstico:
              select#iddiagnostico.form-select(name="iddiagnostico", required)
                option(value="") Seleccione...
          .row.mb-3
            .col-md-6
              label.form-label(for="fechaingreso") Fecha de admisión:
              input.form-control#fechaingreso(type="date", name="fechaingreso", required disabled)
            .col-md-6
              label.form-label(for="horaingreso") Hora de admisión:
              input.form-control#horaingreso(type="time", name="horaingreso", required disabled)
          .mb-3
            label.form-label(for="observaciones") Observaciones:
            textarea.form-control#observaciones(name="observaciones", rows="3", style="text-transform: uppercase;")

          button.btn.btn-primary.w-100.mt-3#btnRegistrarInternacion(type="submit") Registrar Internación

      #datosInternacion

      // Botones de acciones
      .section.mt-4#seccionCancelarAdmision(style="display: none;")
        .row.g-2
          .col-md-4
            button.btn.w-100.py-2#btnCancelarAdmision(style="background-color: #b02a37; border-color: #b02a37; color: white;") Cancelar Admisión
          .col-md-4
            button.btn.btn-primary.w-100.py-2#btnAsignarCama Asignación de Cama
          .col-md-4
            button.btn.w-100.py-2#btnCancelarUltimaAsignacion(style="background-color: #b02a37; border-color: #b02a37; color: white;") Cancelar Última Asignación

      // Tabla de camas asignadas
      .section#seccionCamasAsignadas(style="display: none;")
        .card
          h5.text-center.mb-3 Camas asignadas al paciente
          table.table.table-bordered
            thead
              tr.text-center
                th Desde
                th Unidad
                th Habitación
                th N° Cama
            tbody#tablaCamas

  #mensajes.mt-3.text-center




